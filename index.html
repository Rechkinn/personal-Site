<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <div class="header__inner">
            <div class="header__wrapper">
                <div class="header__logo">
                    <span class="header__logo-name">Михаил Семёнов</span>
                </div>
                <div class="header__buttons">
                    <nav class="header__menu">
                        <ul class="header__list">
                            <li class="header__list-item">
                                <a href="#" class="header__list-item-a">
                                    Статьи
                                </a>
                            </li>
                            <li class="header__list-item">
                                <a href="#" class="header__list-item-a">
                                    Проекты
                                </a>
                            </li>
                            <li class="header__list-item">
                                <a href="#" class="header__list-item-a">
                                    Сертификаты
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="header__switch-and-burger">
                    <div class="header__switch switch">
                        <form action="" method="" class="switch__form">
                            <label for="theme" class="switch__label">
                                <input type="checkbox" id="theme" class="switch__original">
                                <div class="switch__custom">
                                    <div class="switch__custom-name">светлый</div>
                                    <div class="switch__custom-name">тёмный</div>
                                </div>
                            </label>
                        </form>
                    </div>
                    <div class="header__burger">
                        <button class="header__burger-button burger-menu" onclick="openCloseModalWindow()">
                            <span class="burger-menu__span"></span>
                            <span class="burger-menu__span"></span>
                            <span class="burger-menu__span"></span>
                        </button>
                        
                    </div>
                    <div class="header__burger-modal-window hidden"></div>
                </div>
            </div>
        </div>
    </header>
    <main class="main">
        <section class="section">
            <div class="section__inner">
                <div class="section__wrapper">
                    <div class="section__qualities">
                        section__qualities
                    </div>
                    <div class="section__photo">
                        <div class="section__photo-description">
                            <div class="section__photo-description-position-at-work">Заместитель генерального директора по информационным технологиям НПП ТЭК</div>
                            <div class="section__photo-description-name">Михаил Николаевич Семёнов</div>
                            <div class="section__photo-description-quote">
                                <q>Продуктивная работа - это искуcство превращать идеи в результаты</q>
                            </div>



                        </div>
                        <!-- <img src="img/Worker.png" alt=""> -->
                    </div>
                    <div class="section__contact">
                        <!-- <h3 class="section__contact-title">Контакты</h3> -->
                        <div class="section__contact-sticky-scroll sticky-scroll">
                            <h3 class="sticky-scroll__title">Контакты</h3>
                            <div class="sticky-scroll__content">
                                <div class="sticky-scroll__item">
                                    <!-- <div class="sticky-scroll__item-icon">
                                        <svg style="width: 25px;" class="sticky-scroll__item-phone-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  version="1.1" viewBox="0 0 64 64" xml:space="preserve">
                                            <style type="text/css">
                                                .st0{fill:#77B3D4;}
                                                .st1{opacity:0.2;}
                                                .st2{fill:#231F20;}
                                                .st3{fill:#FFFFFF;}
                                            </style>
                                            <g id="Layer_1">
                                                <g>
                                                    <circle class="st0" cx="32" cy="32" r="32"/>
                                                </g>
                                                <g class="st1">
                                                    <g>
                                                        <path class="st2" d="M29,25.3c-0.4-4.8-5.4-7.1-5.6-7.2C23.1,18,22.9,18,22.7,18c-5.8,1-6.6,4.3-6.7,4.5c0,0.2,0,0.4,0,0.6     c6.9,21.4,21.2,25.3,25.9,26.6c0.4,0.1,0.7,0.2,0.9,0.3c0.1,0,0.2,0.1,0.3,0.1c0.2,0,0.3,0,0.5-0.1c0.1-0.1,3.5-1.7,4.4-6.9     c0-0.2,0-0.5-0.1-0.7c-0.1-0.1-1.9-3.5-6.8-4.7c-0.3-0.1-0.7,0-1,0.2c-1.6,1.3-3.7,2.7-4.6,2.9c-6.2-3-9.7-8.9-9.8-10     c-0.1-0.6,1.3-2.8,3-4.6C28.9,26,29,25.6,29,25.3z"/>
                                                    </g>
                                                </g>
                                                <g>
                                                    <g>
                                                        <path class="st3" d="M29,23.3c-0.4-4.8-5.4-7.1-5.6-7.2C23.1,16,22.9,16,22.7,16c-5.8,1-6.6,4.3-6.7,4.5c0,0.2,0,0.4,0,0.6     c6.9,21.4,21.2,25.3,25.9,26.6c0.4,0.1,0.7,0.2,0.9,0.3c0.1,0,0.2,0.1,0.3,0.1c0.2,0,0.3,0,0.5-0.1c0.1-0.1,3.5-1.7,4.4-6.9     c0-0.2,0-0.5-0.1-0.7c-0.1-0.1-1.9-3.5-6.8-4.7c-0.3-0.1-0.7,0-1,0.2c-1.6,1.3-3.7,2.7-4.6,2.9c-6.2-3-9.7-8.9-9.8-10     c-0.1-0.6,1.3-2.8,3-4.6C28.9,24,29,23.6,29,23.3z"/>
                                                    </g>
                                                </g>
                                            </g>
                                            <g id="Layer_2">
                                            </g>
                                            </svg>
                                    </div> -->
                                    <p class="sticky-scroll__item-text">+7(3822) 999-784</p>
                                </div>
                                <div class="sticky-scroll__item">
                                    <!-- <div class="sticky-scroll__item-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25px" height="25px" viewBox="0 0 30 30" id="Layer_1" version="1.1" xml:space="preserve"><style type="text/css">
                                                .st0{fill:#77B3D4;}
                                                .st1{opacity:0.2;}
                                                .st2{fill:#231F20;}
                                                .st3{fill:#FFFFFF;}
                                                .st4{fill:#37E0FF;}
                                                .st5{fill:#2FD9B9;}
                                                .st6{fill:#F498BD;}
                                                .st7{fill:#FFDF1D;}
                                                .st8{fill:#C6C9CC;}
                                            </style><path class="st7" d="M25,6H5C3.9,6,3,6.9,3,8v14c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V8C27,6.9,26.1,6,25,6z M23.8,10l-8.1,6.4  c-0.4,0.3-1,0.3-1.5,0l-8-6.3C5.9,9.9,5.8,9.4,6.1,9c0.3-0.3,0.7-0.4,1.1-0.2L15,14l7.9-5.2c0.4-0.2,0.9-0.1,1.1,0.2  C24.2,9.3,24.1,9.8,23.8,10z"/></svg>
                                    </div> -->
                                    <p class="sticky-scroll__item-text">semyonovmn@gmail.com</p>
                                </div>
                                <div class="sticky-scroll__item">
                                    <a href="https://x.com/semenovmn" class="sticky-scroll__item-a" title="https://x.com/semenovmn" target="_blank">
                                        <img src="img/Twitter.png" alt="Логотип XTwitter" width="25px" class="sticky-scroll__item-a-img">
                                    </a>
                                    <a href="https://t.me/SemyonovMN" class="sticky-scroll__item-a" title="https://t.me/SemyonovMN" target="_blank">
                                        <img src="img/Telegram.png" alt="Логотип Telegram" width="25px" class="sticky-scroll__item-a-img">
                                    </a>
                                    <a href="https://npptec.ru/" class="sticky-scroll__item-a" title="https://npptec.ru/" target="_blank">
                                        <img src="img/logo25.png" alt="Логотип НПП ТЭК" width="25px" class="sticky-scroll__item-a-img">
                                    </a>
                                </div>
                            </div>

                            <div class="sticky-scroll__circles">
                                <div class="sticky-scroll__circle sticky-scroll__circle_current"></div>
                                <div class="sticky-scroll__circle"></div>
                                <div class="sticky-scroll__circle"></div>
                            </div>
                        </div>
                        
                        
                    </div>
                    <div class="section__work">
                        <div class="section__work-title">
                            <h3 class="section__work-title-h3">О месте работы</h3>
                            <img src="img/logo25.png" alt="" class="section__work-title-logo">
                        </div>
                        <div class="section__work-body">
                            <img src="img/NPP-TEK.jpg" alt="Фотография коллектива НПП ТЭК" class="section__work-body-photo">
                            <div class="section__work-body-description" >
                                <p class="section__work-body-description-text">НПП «Томская электронная компания» - современное инжиниринговое и производственное предприятие, предлагающее решения, продукцию и разработку программного обеспечения</p>
                                <a href="https://npptec.ru/" class="section__work-body-description-a">Сайт НПП ТЭК</a>
                            </div>
                        </div>
                    </div>
                    <div class="section__form" id="section__form">
                        section__form
                    </div>
                    <div class="section__description">
                        <div class="section__photo-description-position-at-work">Заместитель генерального директора по информационным технологиям НПП ТЭК</div>
                        <div class="section__photo-description-name">Михаил Николаевич Семёнов</div>
                        <div class="section__photo-description-quote">
                            <q>Продуктивная работа - это искуcство превращать идеи в результаты</q>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script src="js/burgerMenu.js"></script>
    <script src="js/moveWorkPhoto.js"></script>
    <script>

        function scrollLeftCustom(stickyScrollContent, stickyScrollItemWidth, circlesList) {
            const sectionContact    = document.querySelector('.section__contact');
            let sectionContactWidth = sectionContact.clientWidth.toFixed(0);
            sectionContactWidth     /= (sectionContactWidth / stickyScrollItemWidth).toFixed(0);
            const differentWidth    = stickyScrollContent.scrollLeft.toFixed(0) % sectionContactWidth;

            if(differentWidth < 10) {
                circlesList.forEach(circle => {
                    circle.classList.remove('sticky-scroll__circle_current');
                });
                const indexCircle = (stickyScrollContent.scrollLeft / sectionContactWidth).toFixed(0);
                circlesList[indexCircle].classList.add('sticky-scroll__circle_current');
            }
        }



        document.addEventListener("DOMContentLoaded", () => {

            let stickyScrollList = document.querySelectorAll('.sticky-scroll');
            stickyScrollList.forEach(stickyScroll => {

                let stickyScrollContent     = stickyScroll.querySelector('.sticky-scroll__content')
                const circlesList           = stickyScroll.querySelectorAll('.sticky-scroll__circle')
                const stickyScrollItem      = stickyScrollContent.querySelector('.sticky-scroll__item')
                const stickyScrollItemWidth = stickyScrollItem.clientWidth.toFixed(0);
                
                const scrollWidth = 1;
                let left = scrollWidth;

                let scrollContact;
                
                // console.log('window.clientWidth до', window.innerWidth)
                
                // setInterval(() => {
                //     if(window.innerWidth <= 768) {
                //         console.log('сработал if')
                //         scrollContact = setInterval(() => {


                //             if(circlesList[0].classList[
                //                 circlesList[0].classList.length-1] === "sticky-scroll__circle_current"
                //             ) {
                //                 left = scrollWidth;
                //             }
                            
                //             else if(circlesList[circlesList.length-1].classList[
                //                 circlesList[circlesList.length-1].classList.length-1] === "sticky-scroll__circle_current"
                //             ) {
                //                 left = -scrollWidth;
                //             }

                //             stickyScrollContent.scrollBy({
                //                 left: left,
                //                 behavior: "smooth",
                //             })


                //         }, 2000);
                //     }
                //     else {
                //         clearInterval(scrollContact);
                //         console.log('сработал else')
                //     }
                // }, 2000)

                
                // console.log('window.clientWidth после', window.innerWidth)
                

                stickyScrollContent.addEventListener("scroll", () => {
                    // clearInterval(scrollContact);

                    scrollLeftCustom(stickyScrollContent, stickyScrollItemWidth, circlesList);
                    

                    const sectionContact    = document.querySelector('.section__contact');
                    let sectionContactWidth = sectionContact.clientWidth.toFixed(0);
                    sectionContactWidth     /= (sectionContactWidth / stickyScrollItemWidth).toFixed(0);
                    const differentWidth    = stickyScrollContent.scrollLeft.toFixed(0) % sectionContactWidth;


                    // setInterval(() => {
                    //     stickyScrollContent.scrollLeft = sectionContactWidth;
                    //     console.log('------')
                    // }, 1000);



                    if(differentWidth < 10) {
                        circlesList.forEach(circle => {
                            circle.classList.remove('sticky-scroll__circle_current');
                        });
                        const indexCircle = (stickyScrollContent.scrollLeft / sectionContactWidth).toFixed(0);
                        circlesList[indexCircle].classList.add('sticky-scroll__circle_current');
                    }
                });


                
            });
        })
    </script>
    <script>
        // document.addEventListener("DOMContentLoaded", () => {
        //     let stickyScrollList = document.querySelectorAll('.sticky-scroll');
        //     stickyScrollList.forEach(stickyScroll => {

        //     })
        // })
    </script>
</body>
</html>
